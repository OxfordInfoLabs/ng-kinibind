{"version":3,"file":"ng-kinibind.js.map","sources":["ng://ng-kinibind/shared/kinibind-request.service.ts","ng://ng-kinibind/shared/kinibind.model.ts","ng://ng-kinibind/bind/kinibind-bind.directive.ts","ng://ng-kinibind/filter/kinibind-filter.component.ts","ng://ng-kinibind/filter-element/kinibind-filter-element.directive.ts","ng://ng-kinibind/bind-save/kinibind-save.directive.ts","ng://ng-kinibind/form/kinibind-form.directive.ts","ng://ng-kinibind/validators/match-regex.directive.ts","ng://ng-kinibind/validators/remote-validate.directive.ts","ng://ng-kinibind/action/kinibind-action.directive.ts","ng://ng-kinibind/ng-kinibind.module.ts"],"sourcesContent":["import { EventEmitter, Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable, EMPTY } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\n@Injectable()\nexport class KinibindRequestService {\n\n    public jsonpRequestError: EventEmitter<HttpErrorResponse>;\n\n    constructor(private http: HttpClient) {\n        this.jsonpRequestError = new EventEmitter<HttpErrorResponse>();\n    }\n\n    public makeRequest(method: string, url: string, options: any = {}) {\n        return this.http.request(method, url, options);\n    }\n\n    public makePostRequest(url: string, params: any, options: any = {}) {\n        return this.http.post(url, params, options);\n    }\n\n    public makeGetRequest(url: string, options: any = {}) {\n        return this.http.get(url, options);\n    }\n\n    public makeJsonpRequest(url: string, params: any) {\n        const headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n        const options: any = { headers: headers };\n\n        // Set callback param for the JSONP request.\n        params.callback = 'JSONP_CALLBACK';\n\n        options.params = params;\n\n        return this.http.request('jsonp', url, options)\n            .pipe(map(data => {\n                return data;\n            }), catchError((err: HttpErrorResponse) => {\n\n                if (err.error instanceof Error) {\n                    // A client-side or network error occurred. Handle it accordingly.\n                    console.error('An error occurred:', err.error.message);\n                } else {\n                    // The backend returned an unsuccessful response code.\n                    // The response body may contain clues as to what went wrong,\n                    console.error(`Backend returned code ${err.status}, body was: ${err.error}`);\n                }\n\n                this.jsonpRequestError.emit(err);\n\n                return EMPTY;\n            }));\n    }\n\n}\n","import { Subject } from 'rxjs';\n\nexport interface KinibindFilters {\n    changes: Subject<any>;\n    filterObject?: any;\n}\n\n\nexport interface KinibindPageOptions {\n    changes: Subject<any>;\n    size?: number;\n    index?: number;\n    options?: number[];\n}\n\n/**\n * @name KinibindModel\n * @docType Model\n * @description This is the Model that nojs-bind, nojs-filter, nojs-paginator, and nojs-filter-element bind to. It provides a structure that allows for each of these nojs components to manage their own state and data handling.\n * @templateData memberData\n *\n * @members-results-type property: any[]\n * @members-results-description This property will be populated in the event that the results from the service call are in array form.\n * @members-results-defaultValue Array\n * @members-item-type property: any\n * @members-item-description This property will be populated when the returning value from the service call is in object form.\n * @members-item-defaultValue Object\n * @members-totalCount-type property: number\n * @members-totalCount-description Count of the total results\n * @members-totalCount-defaultValue 0\n * @members-offset-type property: number\n * @members-offset-description When limiting results returned from server this values store the current offset.\n * @members-offset-defaultValue 0\n * @members-filters-type property: NojsFilters\n * @members-filters-description This object stores the current filter values used for filtering results on the server.\n * @members-filters-defaultValue { changes: new Subject<any>(), filterObject: {} }\n * @members-pageOptions-type property: NojsPageOptions\n * @members-pageOptions-description This object stores the values used to page the results on the server.\n * @members-pageOptions-defaultValue { changes: new Subject<any>(), size: 10, index: 0, options: [10, 25, 50, 100] }\n * @members-setPageOptions-type method\n * @members-setPageOptions-description This function should be called when paging results need to be updated.\n *\n * @exampleDescription Simply create a new instance of NojsBindModel to make use of this object.\n * const bindModel = new NojsBindModel();\n */\nexport class KinibindModel {\n\n    public results: any[];\n    public item: any;\n    public value: any;\n    public totalCount: number;\n    public offset: number;\n    public filters: KinibindFilters;\n    public pageOptions: KinibindPageOptions;\n\n    constructor(limit?: number, offset?: number) {\n        this.results = [];\n        this.item = {};\n        this.value = '';\n        this.totalCount = 0;\n        this.offset = offset || 0;\n        this.filters = {\n            changes: new Subject<any>(),\n            filterObject: {}\n        };\n        this.pageOptions = {\n            changes: new Subject<any>(),\n            size: limit,\n            index: 1,\n            options: [10, 25, 50, 100]\n        };\n    }\n\n    public setPageOptions(pageSize, pageIndex) {\n        this.pageOptions.size = pageSize;\n        this.pageOptions.index = pageIndex;\n        this.offset = pageSize * pageIndex;\n        this.pageOptions.changes.next(true);\n    }\n\n}\n","import {\n    Directive, EventEmitter, Input, OnInit, Output\n} from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, merge, of } from 'rxjs';\nimport { startWith } from 'rxjs/operators';\nimport { switchMap } from 'rxjs/operators';\nimport * as _ from 'lodash';\nimport { KinibindRequestService } from '../shared/kinibind-request.service';\nimport { KinibindModel } from '../shared/kinibind.model';\nimport { map } from 'rxjs/operators';\nimport { catchError } from 'rxjs/operators';\n\n/**\n *\n * @name NoJS Bind\n * @docType Directive\n * @tag nojs-bind\n * @templateData attributeData\n *\n * @description The NoJS Bind Directive allows for rapid binding of a JSON data source to a model. This should primarily be used for drawing lists of data, where the data does not change as the result of user input. However, this can be used in conjunction with nojsBindSave to send any model changes back to the server. If you are looking to implement Form behaviour, then use nojsForm.\n *\n * @attributes-source-description The URL to load the data asynchronously. Data should be returned in JSON format as either:\n * @attributes-source-type String\n * @attributes-source-value https://someservice/results.json\n * @attributes-source-code {id: 1, name: testing} OR<br>[{id: 1, name: test1}, {id: 2, name: test2}] OR<br>{results: [{id: 1...}, {id: 2...}], totalCount: 2}\n * @attributes-sourceParams-description Parameters used to send back to the server in the post request.\n * @attributes-sourceParams-type Object.\n * @attributes-sourceParams-value {param: value}\n * @attributes-model-description The object that the results from the source will bind itself to.\n * @attributes-model-type NojsBindModel\n * @attributes-model-value data\n * @attributes-onLoad-description Event raised once the data has been loaded successfully.\n * @attributes-onLoad-type method\n * @attributes-onLoadError-description Event raised in the scenario where there is an error loading the data.\n * @attributes-onLoadError-type method\n *\n *\n * @exampleDescription Create an element using the <nojs-bind> tag\n * <nojs-bind source=\"https://someservice/results.json\" [sourceParams]=\"{userId: 100}\"\n *   [model]=\"data\">\n *\n *   <div *ngFor=\"let item of data.results\">\n *     <span>{{item.id}}</span>\n *     <span>{item.name}}</span>\n *     <span>{{item.date}}</span>\n *     <span>{{item.address}}</span>\n *   </div>\n *\n * </nojs-bind>\n *\n */\n@Directive({\n    selector: 'kb-bind'\n})\nexport class KinibindBindDirective implements OnInit {\n\n    @Input('source') url: string;\n    @Input('method') method: string;\n    @Input('sourceParams') sourceParams: any;\n    @Input('model') data: KinibindModel;\n    @Input('withCredentials') withCredentials: boolean;\n    @Input('reloadTrigger') reloadTrigger: EventEmitter<any> = new EventEmitter<any>();\n\n    @Output('onLoad') onLoad: EventEmitter<any> = new EventEmitter<any>();\n    @Output('onLoadError') onLoadError: EventEmitter<any> = new EventEmitter<any>();\n\n    constructor(private http: HttpClient,\n                private kbRequest: KinibindRequestService) {\n\n    }\n\n    ngOnInit(): void {\n        // If we have a reload trigger listen for changes and reset the data model.\n        this.reloadTrigger.subscribe(() => {\n            this.data.filters.filterObject = {};\n            this.data.pageOptions.index = 1;\n        });\n\n        this.data.filters.changes.subscribe(() => this.data.pageOptions.index = 1);\n\n        merge(this.data.filters.changes, this.data.pageOptions.changes, this.reloadTrigger)\n            .pipe(\n                startWith({}),\n                switchMap(() => {\n                    return this.getData();\n                }),\n                map((data: any) => {\n                    if (_.isPlainObject(data)) {\n                        if (data.results && _.isArray(data.results)) {\n                            this.data.totalCount = data.totalCount || data.results.length;\n                            return data.results;\n                        } else {\n                            return data;\n                        }\n                    } else if (_.isArray(data)) {\n                        this.data.totalCount = data.length;\n                        return data;\n                    } else {\n                        return data;\n                    }\n                }),\n                catchError((error) => {\n                    this.onLoadError.emit(error);\n                    return of([]);\n                })\n            ).subscribe(data => {\n            if (_.isPlainObject(data)) {\n                this.data.item = data;\n            } else if (_.isArray(data)) {\n                this.data.results = data;\n            } else {\n                this.data.value = data;\n            }\n            this.onLoad.emit({ success: true });\n        });\n    }\n\n    private getData(): Observable<any> {\n        const postParams: any = this.sourceParams || {};\n\n        if (!_.isEmpty(this.data.filters.filterObject)) {\n            postParams.filters = this.data.filters.filterObject;\n        }\n\n        if (this.data.pageOptions.size) {\n            postParams.pageSize = this.data.pageOptions.size;\n            postParams.page = this.data.pageOptions.index;\n        }\n\n        const method = this.method ? this.method : (this.sourceParams ? 'POST' : 'GET');\n\n        return this.kbRequest.makeRequest(method, this.url, {params: postParams});\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport * as _ from 'lodash';\nimport { KinibindModel } from '../shared/kinibind.model';\nimport { KinibindRequestService } from '../shared/kinibind-request.service';\n\n/**\n * @name NoJS Filter\n * @docType Component\n * @tag nojs-filter\n * @templateData attributeData\n *\n * @description Filtering component that generates filter options based on the passed in source. Selecting any of these options will update the filter object from [model] which will trigger a server side filter of the data.\n *\n * @attributes-source-description The URL to call to retrieve the filter options from the server. Return data expected in the following format:\n * @attributes-source-type String\n * @attributes-source-value https://someservice/filters.json\n * @attributes-source-code [{count: 2, label: Option1: value: 1},<br>{count: 4, label: Option2: value: 2}]\n * @attributes-model-description The object that the results from the source will bind itself to.\n * @attributes-model-type NojsBindModel\n * @attributes-model-value data\n * @attributes-multiple-description Allow multiple filter options to be selected at the same time.\n * @attributes-multiple-type Boolean\n * @attributes-filter-description The name of the database field that the filter will be applied to.\n * @attributes-filter-type String\n * @attributes-showCount-description Toggle that shows the count of results for the given filter.\n * @attributes-showCount-type Boolean\n * @attributes-initialFilterValues-description Set filter values upon component initialisation.\n * @attributes-initialFilterValues-type JSON Object\n * @attributes-initialFilterValues-value {someValue: true}\n *\n * <nojs-filter source=\"https://someservice/filters.json\"\n * [initialFilterValues]=\"{complete: true}\"\n * [model]=\"data\" multiple=\"true\" filter=\"total\" showCount=\"true\">\n * </nojs-filter>\n */\n@Component({\n    selector: 'kb-filter',\n    template: `<div *ngFor=\"let filterValue of filterValues\">\n    <div *ngIf=\"multiple\">\n        <input type=\"checkbox\" (change)=\"updateFilter(filterValue)\"/>\n        {{filterValue.label}}\n        <span *ngIf=\"showCount\">({{filterValue.count}})</span>\n    </div>\n\n    <a *ngIf=\"!multiple\" href=\"javascript:void(0)\"\n       [style.font-weight]=\"filterValue.selected ? 'bold' : 'normal'\" (click)=\"updateFilter(filterValue)\">\n        {{filterValue.label}}\n        <span *ngIf=\"showCount\">({{filterValue.count}})</span>\n    </a>\n</div>\n`,\n    styles: [``]\n})\nexport class KinibindFilterComponent implements OnInit {\n\n    @Input('source') url: string;\n    @Input('model') data: KinibindModel;\n    @Input('multiple') multiple: boolean;\n    @Input('showCount') showCount: boolean;\n    @Input('filter') filter: string;\n    @Input('initialFilterValues') initialFilterValues: any;\n    @Input('withCredentials') withCredentials: boolean;\n\n    public filterValues: any = [];\n\n    constructor(private kbRequest: KinibindRequestService) {\n    }\n\n    ngOnInit() {\n        if (this.initialFilterValues) {\n            this.data.filters.filterObject = _.extend(this.initialFilterValues, this.data.filters.filterObject);\n        }\n        this.getData(this.data.filters.filterObject).subscribe(data => {\n            this.filterValues = data;\n        });\n    }\n\n    public updateFilter(filterObject) {\n        filterObject.selected = !filterObject.selected;\n        if (!this.data.filters.filterObject) {\n            this.data.filters.filterObject = {};\n        }\n        if (this.multiple) {\n            if (filterObject.selected) {\n                if (!Array.isArray(this.data.filters.filterObject[this.filter])) {\n                    this.data.filters.filterObject[this.filter] = [filterObject.value];\n                } else {\n                    this.data.filters.filterObject[this.filter].push(filterObject.value);\n                }\n            } else {\n                const index = this.data.filters.filterObject[this.filter].indexOf(filterObject.value);\n                if (index > -1) {\n                    this.data.filters.filterObject[this.filter].splice(index, 1);\n                }\n\n                if (!this.data.filters.filterObject[this.filter].length) {\n                    delete this.data.filters.filterObject[this.filter];\n                }\n            }\n        } else {\n            if (filterObject.selected) {\n                this.data.filters.filterObject[this.filter] = filterObject.value;\n            } else {\n                delete this.data.filters.filterObject[this.filter];\n            }\n        }\n\n        this.getData(this.data.filters.filterObject);\n        this.data.filters.changes.next(true);\n    }\n\n    private getData(filters): Observable<any> {\n        const postParams: any = {\n            seedColumn: this.filter,\n            filters: filters\n        };\n\n        return this.kbRequest.makePostRequest(this.url, postParams);\n    }\n}\n","import { Directive, Input } from '@angular/core';\nimport { KinibindModel } from '../shared/kinibind.model';\n\n/**\n * @name NoJS Filter Element\n * @docType Directive\n * @tag [nojsFilterElement]\n * @templateData attributeData\n *\n * @description Allow for an input element to perform custom filtering on the associated bound data.\n *\n * @attributes-model-description The object that the results from the source will bind itself to.\n * @attributes-model-type NojsBindModel\n * @attributes-model-value data\n * @attributes-filter-description The name of the type of filtering applied to this element. (Currently only 'search' is supported)\n * @attributes-filter-type String\n * @attributes-prefix-description Specify a prefix to apply to the filter\n * @attributes-prefix-type String\n * @attributes-suffix-desription Specify a suffix to apply to the filter\n * @attributes-suffix-type String\n * @attributes-columns-description Specify the columns in the table that this filter is associated with. (comma separated list 'id,name,description')\n * @attributes-columns-type String\n *\n *\n * <input type='text' #element filterElement [model]='data' filter='search'\n * columns='id,buyer_name' prefix='*' suffix='*' placeholder='Search Orders'>\n */\n@Directive({\n    selector: '[kbFilterElement]',\n    exportAs: 'filterElement'\n})\nexport class KinibindFilterElementDirective {\n\n    @Input('model') data: KinibindModel;\n    @Input('filter') filter: string;\n    @Input('prefix') prefix: string;\n    @Input('suffix') suffix: string;\n    @Input('columns') columns: string;\n    @Input('filterClass') filterClass: string;\n    @Input('mode') mode: string;\n    @Input('dateFormat') dateFormat: string;\n\n    constructor() {\n    }\n\n    /**\n     * This is exposed to the element we are attached to as a template variable,\n     * so that we can update the filters with the new filter value.\n     *\n     * @param filterValue\n     */\n    public updateFilter(filterValue) {\n        this.constructFilterObject(filterValue);\n    }\n\n    private constructFilterObject(filterValue) {\n        if (filterValue === null) {\n            delete this.data.filters.filterObject[this.filter];\n        } else {\n            let newValue = filterValue;\n            if (this.prefix) {\n                newValue = this.prefix + newValue;\n            }\n\n            if (this.suffix) {\n                newValue = newValue + this.suffix;\n            }\n\n            this.data.filters.filterObject[this.filter] = {\n                filterValue: newValue,\n                filterColumns: this.columns ? this.columns.split(',') : []\n            };\n\n            if (this.mode) {\n                this.data.filters.filterObject[this.filter].filterMode = this.mode;\n            }\n\n            if (this.dateFormat) {\n                this.data.filters.filterObject[this.filter].filterDateFormat = this.dateFormat;\n            }\n        }\n\n        this.data.filters.changes.next(true);\n    }\n}\n","import {\n    Directive, EventEmitter, HostListener, Input, OnInit, Output\n} from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { KinibindModel } from '../shared/kinibind.model';\nimport { Router } from '@angular/router';\nimport { KinibindRequestService } from '../shared/kinibind-request.service';\n\n/**\n *\n * @name NoJS Bind Save\n * @docType Directive\n * @tag [nojsBindSave]\n * @templateData attributeData\n *\n * @description The NoJS Bind Save Directive allows for simple saving of data back to the server. This will return the updated contents of either the NojsBindModel.results array or the NojsBindModel.item object to the server for processing.\n *\n * @attributes-store-description The URL where of the server where the data should be sent for processing.\n * @attributes-store-type String\n * @attributes-storeParams-description Additional parameters to send back to the server with the post request.\n * @attributes-storeParams-type Object\n * @attributes-storeParams-value {param: value}\n * @attributes-storeObjectParam-description The name of the parameter to send the data back with.\n * @attributes-storeObjectParam-type String\n * @attributes-model-description The object that the results from the source will bind itself to.\n * @attributes-model-type NojsBindModel\n * @attributes-model-value data\n * @attributes-savedRoute-description The route to navigate to once the response from the server returns successful.\n * @attributes-savedRoute-type String\n * @attributes-onSave-description This function will be called when the save successfully completes\n * @attributes-onSave-type method\n * @attributes-onError-description This function will be called when an error is returned from the service call.\n * @attributes-onError-type method\n *\n *\n * @exampleDescription Add the nojsBindSave attribute to any element. The associated click event on that element will cause the data to save.\n * <button nojsBindSave store=\"https://someservice/save\" storeObjectParam=\"orders\" [model]=\"data\"\n *   [storeParams]=\"{userId: 200}\" savedRoute=\"/views/users\"\n *   (onSave)=\"callMeOnSave()\" (onError)=\"doSomething()\">\n *   Save\n * </button>\n *\n */\n@Directive({\n    selector: '[kbSave]'\n})\nexport class KinibindSaveDirective implements OnInit {\n\n    @Input('model') model: KinibindModel;\n    @Input('store') storeURL: string;\n    @Input('method') method: string;\n    @Input('savedRoute') savedRoute: string;\n    @Input('withCredentials') withCredentials: boolean;\n\n    @Output('onSave') onSave: EventEmitter<any> = new EventEmitter();\n    @Output('onError') onError: EventEmitter<any> = new EventEmitter();\n\n    @HostListener('click', ['$event']) onClick($event) {\n        this.save();\n    }\n\n    constructor(private http: HttpClient,\n                private router: Router,\n                private kbRequest: KinibindRequestService) {\n\n    }\n\n    ngOnInit(): void {\n\n    }\n\n    private save() {\n        let postParams: any;\n\n        if (this.model) {\n            if (this.model.results.length > 0) {\n                postParams = this.model.results;\n            } else if (this.model.item) {\n                postParams = this.model.item;\n            }\n        }\n\n        const method = this.method || 'POST';\n\n        this.kbRequest.makeRequest(method, this.storeURL,\n            {\n                withCredentials: this.withCredentials || false,\n                params: postParams\n            })\n            .toPromise()\n            .then(results => {\n\n                if (this.savedRoute) {\n                    this.router.navigate([this.savedRoute]);\n                }\n\n                this.onSave.emit({ results: results });\n            })\n            .catch(error => {\n                this.onError.emit(error);\n            });\n    }\n\n}\n","import {\n    Directive, EventEmitter, Input, OnInit, Output\n} from '@angular/core';\nimport { Observable, merge } from 'rxjs';\nimport { of as observableOf } from 'rxjs';\nimport * as _ from 'lodash';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { KinibindModel } from '../shared/kinibind.model';\nimport { KinibindRequestService } from '../shared/kinibind-request.service';\nimport { catchError, map, startWith, switchMap } from 'rxjs/operators';\n\n/**\n *\n * @name NoJS Form\n * @docType Directive\n * @tag [nojsForm]\n * @templateData attributeData\n *\n * @description The Nojs Form directive allows for data to sourced from a URL and bound to a model, which can then be used to bind to form components. Additional form validation can be added to the form inputs. In order to save data back to the server, a store URL and submit button need to be included in the form markup.\n *\n * @attributes-source-description The URL to load the data asynchronously. Data should be returned in JSON format as either:\n * @attributes-source-type String\n * @attributes-source-value https://someservice/results.json\n * @attributes-source-code {id: 1, name: testing} OR<br>[{id: 1, name: test1}, {id: 2, name: test2}] OR<br>{results: [{id: 1...}, {id: 2...}], totalCount: 2}\n * @attributes-sourceParams-description Parameters object to send with the Source post request.\n * @attributes-sourceParams-type Object\n * @attributes-sourceParams-value {param: value}\n * @attributes-model-description The object that the results from the source will bind itself to.\n * @attributes-model-type NojsBindModel\n * @attributes-model-value data\n * @attributes-store-description The url to send any dirty data back to the server for processing.\n * @attributes-store-type String\n * @attributes-storeParams-description Parameters object to send with the Store post request.\n * @attributes-storeParams-type Object\n * @attributes-storeParams-value {param: value}\n * @attributes-storeObjectParam-description The name of the parameter to send the data back with.\n * @attributes-storeObjectParam-type String\n * @attributes-savedRoute-description The route to navigate to once the response from the server returns successful.\n * @attributes-savedRoute-type String\n * @attributes-dirtyOnly-description In the case where an array of objects are being edited, only send back the objects where containing fields have been changed.\n * @attributes-dirtyOnly-type Boolean (default false)\n * @attributes-onLoad-description Event raised once the data has been loaded successfully.\n * @attributes-onLoad-type method\n * @attributes-onLoadError-description Event raised in the scenario where there is an error loading the data.\n * @attributes-onLoadError-type method\n * @attributes-onSave-description This function will be called when the save successfully completes\n * @attributes-onSave-type method\n * @attributes-onError-description This function will be called when an error is returned from the service call.\n * @attributes-onError-type method\n *\n *\n * @exampleDescription This attribute should only be used in conjunction with a <form> element.\n * <form nojsForm [model]=\"data\" source=\"/POST/Someservice/getOrderData\"\n *   [sourceParams]=\"{orderId: 37}\" store=\"/POST/Someservice/saveOrders\"\n *   storeObjectParam=\"orders\" savedRoute=\"/nojs-core\">\n *\n * <div class=\"form-group\" style=\"padding: 20px\">\n *   <label>ID</label>\n *   <input type=\"text\" name=\"id\" [(ngModel)]=\"data.item.id\" required>\n * </div>\n *\n * <div class=\"form-group\" style=\"padding: 20px\">\n *   <label>Status</label>\n *   <input type=\"text\" name=\"status\" [(ngModel)]=\"data.item.status\">\n * </div>\n *\n * <div class=\"form-group\" style=\"padding: 20px\">\n *   <label>Subtotal</label>\n *   <input type=\"text\" name=\"subtotal\" [(ngModel)]=\"data.item.subtotal\">\n * </div>\n *\n * <div class=\"form-group\" style=\"padding: 20px\">\n *   <label>Taxes</label>\n *   <input type=\"text\" name=\"taxes\" [(ngModel)]=\"data.item.taxes\">\n * </div>\n *\n * <div class=\"form-group\" style=\"padding: 20px\">\n *   <label>Total</label>\n *   <input type=\"text\" name=\"total\" [(ngModel)]=\"data.item.total\">\n * </div>\n *\n * <button type=\"submit\">Save</button>\n * </form>\n *\n */\n@Directive({\n    selector: '[kbForm]'\n})\nexport class KinibindFormDirective implements OnInit {\n\n    @Input('source') url: string;\n    @Input('sourceMethod') sourceMethod: string;\n    @Input('sourceParams') sourceParams: any;\n    @Input('model') data: KinibindModel;\n    @Input('store') storeURL: string;\n    @Input('storeMethod') storeMethod: string;\n    @Input('savedRoute') savedRoute: string;\n    @Input('dirtyOnly') dirtyOnly: boolean;\n    @Input('withCredentials') withCredentials: boolean;\n\n    @Output('onLoad') onLoad: EventEmitter<any> = new EventEmitter<any>();\n    @Output('onLoadError') onLoadError: EventEmitter<any> = new EventEmitter<any>();\n    @Output('onSave') onSave: EventEmitter<any> = new EventEmitter();\n    @Output('onError') onError: EventEmitter<any> = new EventEmitter();\n\n    constructor(private ngForm: NgForm,\n                private router: Router,\n                private kbRequest: KinibindRequestService) {\n\n    }\n\n    ngOnInit(): void {\n        this.initSourceData();\n        this.initSaveData();\n    }\n\n    private initSourceData() {\n        this.data.filters.changes.subscribe(() => this.data.pageOptions.index = 0);\n\n        merge(this.data.filters.changes, this.data.pageOptions.changes)\n            .pipe(\n                startWith({}),\n                switchMap(() => {\n                    return this.getData();\n                }),\n                map((data: any) => {\n                    if (_.isPlainObject(data)) {\n                        if (data.results && _.isArray(data.results)) {\n                            this.data.totalCount = data.totalCount || data.results.length;\n                            return data.results;\n                        } else {\n                            return data;\n                        }\n                    } else if (_.isArray(data)) {\n                        this.data.totalCount = data.length;\n                        return data;\n                    }\n                }),\n                catchError((error) => {\n                    this.onLoadError.emit(error);\n                    return observableOf([]);\n                })\n            ).subscribe(data => {\n            if (_.isPlainObject(data)) {\n                this.data.item = data;\n            } else {\n                this.data.results = data;\n            }\n            this.onLoad.emit({ success: true });\n        });\n    }\n\n    private getData(): Observable<any> {\n        const postParams: any = this.sourceParams || {};\n\n        if (!_.isEmpty(this.data.filters.filterObject)) {\n            postParams.filters = this.data.filters.filterObject;\n        }\n\n        if (this.data.pageOptions.size) {\n            postParams.pageSize = this.data.pageOptions.size;\n            postParams.page = this.data.pageOptions.index;\n        }\n\n        const method = this.sourceMethod ? this.sourceMethod : (this.sourceParams ? 'POST' : 'GET');\n\n        return this.kbRequest.makeRequest(method, this.url, {\n            params: this.sourceParams,\n            withCredentials: this.withCredentials\n        });\n    }\n\n    private initSaveData() {\n        if (this.storeURL) {\n            this.ngForm.ngSubmit.subscribe(() => {\n                if (this.data.results.length > 0) {\n                    if (this.dirtyOnly) {\n                        const dirty = [];\n                        _.forEach(this.ngForm.form.controls, (control, key) => {\n                            if (control.dirty) {\n                                dirty.push(key);\n                            }\n                        });\n                        if (dirty.length > 0) {\n                            this.saveData(dirty);\n                        }\n                    } else {\n                        this.saveData();\n                    }\n\n                } else if (this.data.item && this.ngForm.dirty) {\n                    this.saveData();\n                }\n            });\n        }\n    }\n\n    private saveData(dirty?) {\n        let postParams = {};\n\n        if (dirty) {\n\n            const dirtyObjects = [];\n\n            dirty.forEach(dirtyKey => {\n                const splitKey = dirtyKey.split('-');\n                const dirtyIndex = _.find(splitKey, key => {\n                    return !isNaN(Number(key));\n                });\n                dirtyObjects.push(this.data.results[dirtyIndex]);\n            });\n\n            postParams = dirtyObjects;\n\n        } else {\n            if (this.data.results.length > 0) {\n                postParams = this.data.results;\n            } else if (this.data.item) {\n                postParams = this.data.item;\n            }\n        }\n\n        const method = this.storeMethod ? this.storeMethod : 'POST';\n\n        this.kbRequest.makeRequest(method, this.storeURL,\n            {\n                params: postParams,\n                withCredentials: this.withCredentials\n            })\n            .toPromise()\n            .then(results => {\n\n                if (this.savedRoute) {\n                    this.router.navigate([this.savedRoute]);\n                }\n\n                this.onSave.emit({ results: results });\n            })\n            .catch(error => {\n                this.onError.emit(error);\n            });\n    }\n}\n","import { AbstractControl, NG_VALIDATORS, Validator, ValidatorFn } from '@angular/forms';\nimport { Directive, Input } from '@angular/core';\n\nexport function matchRegexValidator(match: RegExp): ValidatorFn {\n    return (control: AbstractControl): {[key: string]: any} => {\n        const matched = match.test(control.value);\n        return !matched ? {'matchRegex': {value: control.value}} : null;\n    };\n}\n\n@Directive({\n    selector: '[kbMatchRegex]',\n    providers: [{provide: NG_VALIDATORS, useExisting: MatchRegexDirective, multi: true}]\n})\nexport class MatchRegexDirective implements Validator {\n    @Input('kbMatchRegex') matchRegex: string;\n\n    validate(control: AbstractControl): {[key: string]: any} {\n        return this.matchRegex ? matchRegexValidator(new RegExp(this.matchRegex, 'i'))(control)\n            : null;\n    }\n}","import { AbstractControl, NG_ASYNC_VALIDATORS, Validator, ValidatorFn } from '@angular/forms';\nimport { Directive, Input } from '@angular/core';\nimport { KinibindRequestService } from '../shared/kinibind-request.service';\n\n\n@Directive({\n    selector: '[kbRemoteValidate]',\n    providers: [{ provide: NG_ASYNC_VALIDATORS, useExisting: NojsRemoteValidateDirective, multi: true }]\n})\nexport class NojsRemoteValidateDirective implements Validator {\n    @Input('kbRemoteValidate') remoteValidate: string;\n    @Input('remoteObjectParam') remoteObjectParam: any;\n    @Input('remoteObjectParams') remoteObjectParams: any = {};\n\n    constructor(private kbRequest: KinibindRequestService) {\n\n    }\n\n    validate(control: AbstractControl): { [key: string]: any } {\n        return this.remoteValidate ? this.remoteValidateValidator(this.remoteValidate)(control)\n            : null;\n    }\n\n    private remoteValidateValidator(remoteURL: string): ValidatorFn {\n        return (control: AbstractControl): { [key: string]: any } => {\n\n            this.remoteObjectParams[this.remoteObjectParam] = control.value;\n            if (control.value) {\n                return this.kbRequest.makePostRequest(remoteURL, this.remoteObjectParams).toPromise()\n                    .then(valid => {\n                        return !valid ? { 'remoteValidate': false } : null;\n                    });\n            }\n            return Promise.resolve(null);\n        };\n    }\n\n}","import {\n    Directive, EventEmitter, HostListener, Input, OnInit, Output\n} from '@angular/core';\nimport { KinibindRequestService } from '../shared/kinibind-request.service';\n\n/**\n *\n * @name NoJS Action\n * @docType Directive\n * @tag nojs-action\n * @templateData attributeData\n *\n * @description The NoJS Bind Directive allows for rapid binding of a JSON data source to a model. This should primarily be used for drawing lists of data, where the data does not change as the result of user input. However, this can be used in conjunction with nojsBindSave to send any model changes back to the server. If you are looking to implement Form behaviour, then use nojsForm.\n *\n *\n *\n */\n@Directive({\n    selector: '[kbAction]'\n})\nexport class KinibindActionDirective implements OnInit {\n\n    @Input('actionURL') actionURL: string;\n    @Input('method') method: string;\n    @Input('actionParams') actionParams: any;\n\n    @Output('started') started: EventEmitter<any> = new EventEmitter<any>();\n    @Output('completed') completed: EventEmitter<any> = new EventEmitter<any>();\n    @Output('error') error: EventEmitter<any> = new EventEmitter<any>();\n\n    @HostListener('click', ['$event'])\n    clickEvent(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.started.emit(true);\n\n        const method = this.method ? this.method : (this.actionParams ? 'POST' : 'GET');\n\n        this.kbRequest.makeRequest(method, this.actionURL,\n            {\n                params: this.actionParams\n            })\n            .toPromise()\n            .then(result => {\n                this.completed.emit(result);\n            })\n            .catch(error => {\n                this.error.emit(error);\n            });\n    }\n\n    constructor(private kbRequest: KinibindRequestService) {\n    }\n\n    ngOnInit(): void {\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KinibindBindDirective } from './bind/kinibind-bind.directive';\nimport { KinibindFilterComponent } from './filter/kinibind-filter.component';\nimport { KinibindFilterElementDirective } from './filter-element/kinibind-filter-element.directive';\nimport { HttpClientJsonpModule, HttpClientModule } from '@angular/common/http';\nimport { KinibindSaveDirective } from './bind-save/kinibind-save.directive';\nimport { FormsModule } from '@angular/forms';\nimport { KinibindFormDirective } from './form/kinibind-form.directive';\nimport { MatchRegexDirective } from './validators/match-regex.directive';\nimport { NojsRemoteValidateDirective } from './validators/remote-validate.directive';\nimport { KinibindActionDirective } from './action/kinibind-action.directive';\nimport { KinibindRequestService } from './shared/kinibind-request.service';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        HttpClientModule,\n        FormsModule,\n        HttpClientJsonpModule\n    ],\n    declarations: [\n        KinibindBindDirective,\n        KinibindFilterComponent,\n        KinibindSaveDirective,\n        KinibindFilterElementDirective,\n        KinibindFormDirective,\n        MatchRegexDirective,\n        NojsRemoteValidateDirective,\n        KinibindActionDirective\n    ],\n    exports: [\n        KinibindBindDirective,\n        KinibindSaveDirective,\n        KinibindFilterComponent,\n        KinibindFilterElementDirective,\n        KinibindFormDirective,\n        MatchRegexDirective,\n        NojsRemoteValidateDirective,\n        KinibindActionDirective\n    ],\n    providers: [\n        KinibindRequestService\n    ]\n})\nexport class NgKinibindModule {\n}\n"],"names":["_.isPlainObject","_.isArray","_.isEmpty","_.extend","observableOf","_.forEach","_.find"],"mappings":"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"}
